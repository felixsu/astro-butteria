---
import Layout from '../layouts/Layout.astro';

const supportedLocales = ['en', 'id-ID'];
const defaultLocale = 'id-ID';

const { pathname } = Astro.url;
const pathSegments = pathname.split('/').filter(Boolean);

let targetLocale = defaultLocale;

if (pathSegments && pathSegments.length > 0) {
  const potentialLocale = pathSegments[0];
  if (supportedLocales.includes(potentialLocale)) {
    targetLocale = potentialLocale;
  }
}
---
<Layout title="404: Not Found">
  <div class="not-found-container">
    <div class="content-wrapper">
      <p class="message">Whoops, food not found</p>
      <img src="/not_found.png" alt="Not Found" class="not-found-image" />
      <a href={`/${targetLocale}/home`} class="home-link">Go back home</a>
    </div>
  </div>
</Layout>

<style>
  .not-found-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    text-align: center;
  }

  .content-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .message {
    font-size: 1.5rem;
    font-weight: 500;
    color: #333;
  }

  .not-found-image {
    max-width: 100%;
    height: auto;
    max-height: 400px;
  }

  .home-link {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background-color: #e74c3c;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    font-weight: 600;
    transition: background-color 0.3s ease;
  }

  .home-link:hover {
    background-color: #c0392b;
  }
</style>